(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7220)}])},7220:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(5893),s=r(7294),l=r(1664),n=r.n(l),i=r(10),o=r(6506);function d(e){let{value:t,onChange:r,onConfirm:l,onCancel:n,bodyPartName:i}=e,[o,d]=(0,s.useState)(t);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"slider-title",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-sm w-full animate-slide-in",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{id:"slider-title",className:"text-lg font-bold mb-2",children:i}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Rate your pain intensity from 1 to 10"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:o,onChange:e=>{let t=Number(e.target.value);d(t),r(t)},onKeyDown:e=>{"Escape"===e.key&&n()},className:"w-full mb-4","aria-label":"Pain intensity slider",autoFocus:!0}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold ".concat(o<=3?"text-yellow-600":o<=6?"text-orange-600":o<=8?"text-red-600":"text-red-800"),children:o}),(0,a.jsx)("div",{className:"text-gray-600 text-sm",children:o<=3?"Mild":o<=6?"Moderate":o<=8?"Severe":"Very Severe"})]}),(0,a.jsx)("div",{className:"flex-1 ml-4",children:(0,a.jsx)("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl",style:{backgroundColor:o<=3?"#fef3c7":o<=6?"#fb923c":"#ef4444",color:o<=3?"#92400e":"white"},children:o})})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium","aria-label":"Cancel",children:"Cancel"}),(0,a.jsx)("button",{onClick:l,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition font-medium","aria-label":"Confirm pain level",children:"Confirm"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Press ESC to cancel"})]})})}function c(e){let{name:t,intensityLevel:r,isSelected:s,onClick:l}=e;return(0,a.jsx)("button",{onClick:l,className:"\n        px-3 py-2 rounded-lg text-sm font-medium transition-all duration-150\n        border-2 cursor-pointer whitespace-nowrap\n        ".concat(s?"ring-2 ring-blue-500 ring-offset-2":"","\n        ").concat(r?r?r<=3?"bg-pain-low text-gray-900 border-yellow-400":r<=6?"bg-pain-medium text-white border-orange-400":"bg-pain-high text-white border-red-400":"":"bg-white text-gray-700 border-gray-200 hover:border-gray-300","\n      "),"aria-pressed":s,title:r?"".concat(t,": Pain level ").concat(r,"/10"):"Select ".concat(t),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:t}),r&&(0,a.jsxs)("span",{className:"font-bold",children:[r,"/10"]})]})})}var m=r(1725);function x(e){var t;let{location:r,painEntry:l,onBodyPartSelected:n}=e,[i,o]=(0,s.useState)(null),[x,b]=(0,s.useState)(5),u=("front"===r?m.p.frontDiagram:m.p.backDiagram).map(e=>m.p.parts[e]).filter(Boolean),h=e=>{let t=null==l?void 0:l.bodyPartEntries[e];o(e),b((null==t?void 0:t.intensityLevel)||5)};return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"front"===r?"Front View":"Back View"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 w-full mb-6",children:u.map(e=>{var t;return(0,a.jsx)(c,{id:e.id,name:e.abbreviation||e.anatomicalName,intensityLevel:null==l?void 0:null===(t=l.bodyPartEntries[e.id])||void 0===t?void 0:t.intensityLevel,isSelected:i===e.id,onClick:()=>h(e.id)},e.id)})}),i&&(0,a.jsx)(d,{value:x,onChange:b,onConfirm:()=>{i&&(n(i,x),o(null))},onCancel:()=>{o(null)},bodyPartName:(null===(t=m.p.parts[i])||void 0===t?void 0:t.anatomicalName)||"Body Part"})]})}function b(){let{getTodayEntry:e,recordPain:t,loading:l,error:d,clearError:c}=(0,i.T)(),[m,b]=(0,s.useState)("front"),[u,h]=(0,s.useState)(null),g=e(),f=(0,o.TS)(),p=(0,o._f)(f);return l?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading pain tracker..."})]})}):(0,a.jsx)("main",{className:"min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Body Pain Tracker"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Recording pain for ",(0,a.jsx)("span",{className:"font-semibold",children:p})]})]}),(d||u)&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-800 mb-1",children:"Error"}),(0,a.jsx)("p",{className:"text-red-700 text-sm",children:d||u})]}),(0,a.jsx)("button",{onClick:()=>{h(null),c()},className:"text-red-600 hover:text-red-800 font-bold ml-2","aria-label":"Dismiss error",children:"âœ•"})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:(0,a.jsx)("p",{className:"text-blue-900",children:"Click on body parts to record your pain levels. Use the slider to rate intensity from 1 (mild) to 10 (severe)."})}),(0,a.jsxs)("div",{className:"flex gap-2 mb-8 border-b border-gray-300",children:[(0,a.jsx)("button",{onClick:()=>b("front"),className:"px-6 py-3 font-semibold transition ".concat("front"===m?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),"aria-selected":"front"===m,role:"tab",children:"Front View"}),(0,a.jsx)("button",{onClick:()=>b("back"),className:"px-6 py-3 font-semibold transition ".concat("back"===m?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),"aria-selected":"back"===m,role:"tab",children:"Back View"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:(0,a.jsx)(x,{location:m,painEntry:g||void 0,onBodyPartSelected:(e,r)=>{try{h(null),t(e,r)}catch(e){h(e instanceof Error?e.message:"Failed to record pain")}}})}),g&&Object.keys(g.bodyPartEntries).length>0&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"font-semibold text-green-900 mb-4",children:["Today's Recordings: ",Object.keys(g.bodyPartEntries).length]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Object.entries(g.bodyPartEntries).map(e=>{let[t,s]=e,l=r(1725).p.parts[t];return(0,a.jsxs)("div",{className:"p-3 rounded bg-white border border-green-200",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:(null==l?void 0:l.abbreviation)||(null==l?void 0:l.anatomicalName)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s.intensityLevel,"/10"]})]},t)})})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsx)(n(),{href:"/statistics",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"View Statistics"}),(0,a.jsx)(n(),{href:"/history",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold",children:"View History"})]})]})})}}},function(e){e.O(0,[664,10,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);