(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{1522:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/statistics",function(){return s(9354)}])},9354:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),r=s(7294),n=s(1664),l=s.n(n),i=s(10),d=s(6506),o=s(1725);function c(){let{entries:e,loading:t}=(0,i.T)(),[s,n]=(0,r.useState)("week"),c=(0,r.useMemo)(()=>(function(e,t){let s=function(e,t){let{startDate:s,endDate:a}=(0,d.zG)(t),r=new Set((0,d.Ci)(s,a));return Object.values(e).filter(e=>r.has(e.date))}(e,t);return 0===s.length?[]:(function(e){let t=Object.entries(e).map(e=>{let[t,s]=e,a=o.p.parts[t];return{bodyPartId:t,bodyPartName:a.anatomicalName,totalIntensity:s.totalIntensity,frequency:s.frequency,averageIntensity:Number((s.totalIntensity/s.frequency).toFixed(2)),ranking:0}});return t.sort((e,t)=>t.totalIntensity-e.totalIntensity),t.forEach((e,t)=>{e.ranking=t+1}),t})(function(e){let t={};for(let s of e)for(let[e,a]of Object.entries(s.bodyPartEntries))t[e]||(t[e]={totalIntensity:0,frequency:0}),t[e].totalIntensity+=a.intensityLevel,t[e].frequency+=1;return t}(s)).slice(0,10)})(e,s),[e,s]),x=e=>1===e?"bg-yellow-100 border-yellow-300":e<=3?"bg-orange-100 border-orange-300":"bg-red-100 border-red-300",m=e=>1===e?"\uD83E\uDD47":2===e?"\uD83E\uDD48":3===e?"\uD83E\uDD49":"",u="week"===s?"Esta Semana":"Este Mes",h="week"===s?"(\xdaltimos 7 d\xedas)":"(\xdaltimos 30 d\xedas)";return t?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Cargando estad\xedsticas..."})]})}):(0,a.jsx)("main",{className:"min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Estad\xedsticas de Dolor"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Top 10 de las \xe1reas corporales m\xe1s dolorosas por frecuencia y severidad"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,a.jsx)("button",{onClick:()=>n("week"),className:"px-6 py-3 rounded-lg font-semibold transition ".concat("week"===s?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),"aria-pressed":"week"===s,children:"Esta Semana"}),(0,a.jsx)("button",{onClick:()=>n("month"),className:"px-6 py-3 rounded-lg font-semibold transition ".concat("month"===s?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),"aria-pressed":"month"===s,children:"Este Mes"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:[u," ",h]})}),0===c.length?(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[(0,a.jsxs)("p",{className:"text-blue-900 text-lg",children:["A\xfan no hay datos de dolor registrados para ","week"===s?"esta semana":"este mes","."]}),(0,a.jsx)("p",{className:"text-blue-700 mt-2",children:"Comienza a registrar tu dolor para ver estad\xedsticas."})]}):(0,a.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,a.jsxs)("div",{className:"border-2 rounded-lg p-6 animate-fade-in ".concat(x(e.ranking)),children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-3xl",children:m(e.ranking)}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-bold text-lg text-gray-800",children:[e.ranking,". ",e.bodyPartName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Registrado ",e.frequency," vez",1!==e.frequency?"es":""]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Intensidad Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:e.totalIntensity})]}),(0,a.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Promedio"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:e.averageIntensity})]}),(0,a.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Frecuencia"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[e.frequency,"x"]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-red-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.totalIntensity/100*100,100),"%")}})})})]},e.bodyPartId))}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center mt-8",children:[(0,a.jsx)(l(),{href:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"Registrar Dolor"}),(0,a.jsx)(l(),{href:"/history",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold",children:"Ver Historial"})]})]})})}}},function(e){e.O(0,[664,10,888,774,179],function(){return e(e.s=1522)}),_N_E=e.O()}]);