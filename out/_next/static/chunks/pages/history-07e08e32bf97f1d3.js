(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3639:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return s(8753)}])},8753:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),r=s(7294),n=s(1664),i=s.n(n),l=s(10),d=s(6506),o=s(1725);function c(){let{getAllEntries:e,removePain:t,loading:s}=(0,l.T)(),[n,c]=(0,r.useState)(null),x=e(),m=e=>{c(n===e?null:e)},h=(e,s)=>{var a;confirm("Delete pain record for ".concat(null===(a=o.p.parts[s])||void 0===a?void 0:a.anatomicalName," on ").concat((0,d._f)(e),"?"))&&t(e,s)},b=e=>{if(confirm("Delete all pain records for ".concat((0,d._f)(e),"?"))){let s=x.find(t=>t.date===e);s&&Object.keys(s.bodyPartEntries).forEach(s=>{t(e,s)})}};return s?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Cargando historial..."})]})}):(0,a.jsx)("main",{className:"min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Historial de Dolor"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Ver y gestionar tus registros de dolor grabados"})]}),0===x.length?(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[(0,a.jsx)("p",{className:"text-blue-900 text-lg",children:"A\xfan no hay registros de dolor."}),(0,a.jsx)("p",{className:"text-blue-700 mt-2",children:"Comienza a registrar para ver tu historial aqu\xed."})]}):(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow hover:shadow-md transition animate-fade-in",children:[(0,a.jsxs)("button",{onClick:()=>m(e.date),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition","aria-expanded":n===e.date,children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:(0,d._f)(e.date)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[Object.keys(e.bodyPartEntries).length," parte del cuerpo",1!==Object.keys(e.bodyPartEntries).length?"s":""," ","registrada"]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[Object.values(e.bodyPartEntries).slice(0,3).map((e,t)=>(0,a.jsx)("span",{className:"inline-block w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(e.intensityLevel<=3?"bg-pain-low text-gray-900":e.intensityLevel<=6?"bg-pain-medium":"bg-pain-high"),children:e.intensityLevel},t)),Object.keys(e.bodyPartEntries).length>3&&(0,a.jsxs)("span",{className:"text-gray-500 text-xs font-bold ml-1",children:["+",Object.keys(e.bodyPartEntries).length-3]})]}),(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400 transition transform ".concat(n===e.date?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]}),n===e.date&&(0,a.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50",children:[(0,a.jsx)("div",{className:"space-y-3 mb-4",children:Object.entries(e.bodyPartEntries).map(t=>{let[s,r]=t,n=o.p.parts[s];return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded border ".concat(r.intensityLevel<=3?"bg-pain-low text-gray-900":r.intensityLevel<=6?"bg-pain-medium text-white":"bg-pain-high text-white"),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:null==n?void 0:n.anatomicalName}),(0,a.jsxs)("p",{className:"text-sm opacity-75",children:["Intensity: ",r.intensityLevel,"/10"]})]}),(0,a.jsx)("button",{onClick:()=>h(e.date,s),className:"text-sm opacity-75 hover:opacity-100 font-semibold","aria-label":"Delete ".concat(null==n?void 0:n.anatomicalName),children:"âœ•"})]},s)})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("button",{onClick:()=>b(e.date),className:"flex-1 px-4 py-2 text-red-700 bg-red-50 rounded hover:bg-red-100 transition font-semibold text-sm",children:"Eliminar Todo para Este D\xeda"})})]})]},e.date))}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center mt-8",children:[(0,a.jsx)(i(),{href:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"Registrar Dolor"}),(0,a.jsx)(i(),{href:"/statistics",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold",children:"Ver Estad\xedsticas"})]})]})})}}},function(e){e.O(0,[664,10,888,774,179],function(){return e(e.s=3639)}),_N_E=e.O()}]);