(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3151)}])},3151:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return f}});var a=s(5893),t=s(7294),i=s(1664),d=s.n(i),l=s(10),n=s(6506);function o(e){let{value:r,onChange:s,onConfirm:i,onCancel:d,bodyPartName:l}=e,[n,o]=(0,t.useState)(r);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"slider-title",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-sm w-full animate-slide-in",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{id:"slider-title",className:"text-lg font-bold mb-2",children:l}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Califica tu intensidad de dolor de 1 a 10"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:n,onChange:e=>{let r=Number(e.target.value);o(r),s(r)},onKeyDown:e=>{"Escape"===e.key&&d()},className:"w-full mb-4","aria-label":"Pain intensity slider",autoFocus:!0}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold ".concat(n<=3?"text-yellow-600":n<=6?"text-orange-600":n<=8?"text-red-600":"text-red-800"),children:n}),(0,a.jsx)("div",{className:"text-gray-600 text-sm",children:n<=3?"Leve":n<=6?"Moderado":n<=8?"Severo":"Muy Severo"})]}),(0,a.jsx)("div",{className:"flex-1 ml-4",children:(0,a.jsx)("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl",style:{backgroundColor:n<=3?"#fef3c7":n<=6?"#fb923c":"#ef4444",color:n<=3?"#92400e":"white"},children:n})})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:d,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium","aria-label":"Cancelar",children:"Cancelar"}),(0,a.jsx)("button",{onClick:i,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition font-medium","aria-label":"Confirmar nivel de dolor",children:"Confirmar"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Presiona ESC para cancelar"})]})})}var c=s(1725);let x=[{id:"head",x:150,y:40,radius:25},{id:"neck",x:150,y:75,radius:15},{id:"left_shoulder",x:100,y:95,radius:18},{id:"right_shoulder",x:200,y:95,radius:18},{id:"left_deltoid",x:85,y:110,radius:16},{id:"right_deltoid",x:215,y:110,radius:16},{id:"chest",x:150,y:125,radius:25},{id:"left_bicep",x:65,y:135,radius:15},{id:"right_bicep",x:235,y:135,radius:15},{id:"abdomen",x:150,y:165,radius:28},{id:"left_forearm",x:50,y:165,radius:14},{id:"right_forearm",x:250,y:165,radius:14},{id:"left_hip",x:110,y:200,radius:18},{id:"right_hip",x:190,y:200,radius:18},{id:"left_hand",x:40,y:200,radius:12},{id:"right_hand",x:260,y:200,radius:12},{id:"left_thigh",x:110,y:260,radius:22},{id:"right_thigh",x:190,y:260,radius:22},{id:"left_knee",x:110,y:320,radius:16},{id:"right_knee",x:190,y:320,radius:16},{id:"left_shin",x:110,y:370,radius:14},{id:"right_shin",x:190,y:370,radius:14},{id:"left_foot",x:110,y:405,radius:12},{id:"right_foot",x:190,y:405,radius:12}],h=[{id:"neck",x:150,y:75,radius:15},{id:"left_shoulder",x:100,y:95,radius:18},{id:"right_shoulder",x:200,y:95,radius:18},{id:"left_deltoid",x:85,y:110,radius:16},{id:"right_deltoid",x:215,y:110,radius:16},{id:"upper_back",x:150,y:125,radius:25},{id:"left_tricep",x:65,y:135,radius:15},{id:"right_tricep",x:235,y:135,radius:15},{id:"mid_back",x:150,y:160,radius:25},{id:"left_forearm",x:50,y:165,radius:14},{id:"right_forearm",x:250,y:165,radius:14},{id:"lower_back",x:150,y:195,radius:28},{id:"left_glute",x:110,y:225,radius:20},{id:"right_glute",x:190,y:225,radius:20},{id:"left_thigh",x:110,y:275,radius:22},{id:"right_thigh",x:190,y:275,radius:22},{id:"left_shin",x:110,y:370,radius:14},{id:"right_shin",x:190,y:370,radius:14},{id:"left_foot",x:110,y:405,radius:12},{id:"right_foot",x:190,y:405,radius:12}];function u(e){var r;let{location:s,painEntry:i,onBodyPartSelected:d}=e,[l,n]=(0,t.useState)(null),[u,f]=(0,t.useState)(5),m=e=>{let r=null==i?void 0:i.bodyPartEntries[e];n(e),f((null==r?void 0:r.intensityLevel)||5)},b=e=>e?e<=3?"#fef08a":e<=6?"#fed7aa":e<=8?"#fca5a5":"#dc2626":"#e5e7eb";return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"front"===s?"Vista Frontal":"Vista Trasera"}),(0,a.jsx)("div",{className:"relative w-full flex justify-center",children:(0,a.jsxs)("svg",{viewBox:"0 0 300 430",className:"w-full max-w-xs h-auto",style:{aspectRatio:"300/430"},children:["front"===s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:"150",cy:"40",r:"25",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("rect",{x:"140",y:"65",width:"20",height:"15",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M 120 85 L 80 130 L 90 200 L 120 220 L 150 220 L 180 220 L 210 200 L 220 130 L 180 85 Z",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M 80 95 Q 50 120 40 200",stroke:"#9ca3af",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 220 95 Q 250 120 260 200",stroke:"#9ca3af",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 130 220 L 110 320 L 110 405",stroke:"#9ca3af",strokeWidth:"18",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 170 220 L 190 320 L 190 405",stroke:"#9ca3af",strokeWidth:"18",fill:"none",strokeLinecap:"round"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:"150",cy:"40",r:"25",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("rect",{x:"140",y:"65",width:"20",height:"15",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M 120 85 L 80 130 L 90 200 L 120 230 L 150 240 L 180 230 L 210 200 L 220 130 L 180 85 Z",fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M 80 95 Q 50 120 40 200",stroke:"#9ca3af",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 220 95 Q 250 120 260 200",stroke:"#9ca3af",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 130 235 L 110 330 L 110 405",stroke:"#9ca3af",strokeWidth:"18",fill:"none",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M 170 235 L 190 330 L 190 405",stroke:"#9ca3af",strokeWidth:"18",fill:"none",strokeLinecap:"round"})]}),("front"===s?x:h).map(e=>{var r,s;let t=b(null==i?void 0:null===(r=i.bodyPartEntries[e.id])||void 0===r?void 0:r.intensityLevel),d=l===e.id;return(0,a.jsxs)("g",{style:{cursor:"pointer"},children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:e.radius,fill:t,stroke:d?"#1f2937":"#6b7280",strokeWidth:d?4:2,className:"transition-all hover:opacity-80",onClick:()=>m(e.id)}),(0,a.jsx)("title",{children:(null===(s=c.p.parts[e.id])||void 0===s?void 0:s.anatomicalName)||e.id})]},e.id)})]})}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 w-full max-w-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-200 border border-gray-400"}),(0,a.jsx)("span",{className:"text-xs",children:"Leve (1-3)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-orange-200 border border-gray-400"}),(0,a.jsx)("span",{className:"text-xs",children:"Moderado (4-6)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-200 border border-gray-400"}),(0,a.jsx)("span",{className:"text-xs",children:"Severo (7-8)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-600 border border-gray-400"}),(0,a.jsx)("span",{className:"text-xs",children:"Muy Severo (9-10)"})]})]}),l&&(0,a.jsx)(o,{value:u,onChange:f,onConfirm:()=>{l&&(d(l,u),n(null))},onCancel:()=>{n(null)},bodyPartName:(null===(r=c.p.parts[l])||void 0===r?void 0:r.anatomicalName)||"Parte del Cuerpo"})]})}function f(){let{getTodayEntry:e,recordPain:r,loading:i,error:o,clearError:c}=(0,l.T)(),[x,h]=(0,t.useState)("front"),[f,m]=(0,t.useState)(null),b=e(),g=(0,n.TS)(),y=(0,n._f)(g);return i?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Cargando rastreador de dolor..."})]})}):(0,a.jsx)("main",{className:"min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Rastreador de Dolor Corporal"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Registrando dolor para ",(0,a.jsx)("span",{className:"font-semibold",children:y})]})]}),(o||f)&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-800 mb-1",children:"Error"}),(0,a.jsx)("p",{className:"text-red-700 text-sm",children:o||f})]}),(0,a.jsx)("button",{onClick:()=>{m(null),c()},className:"text-red-600 hover:text-red-800 font-bold ml-2","aria-label":"Descartar error",children:"âœ•"})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:(0,a.jsx)("p",{className:"text-blue-900",children:"Haz clic en las partes del cuerpo para registrar tus niveles de dolor. Usa el deslizador para calificar la intensidad de 1 (leve) a 10 (severo)."})}),(0,a.jsxs)("div",{className:"flex gap-2 mb-8 border-b border-gray-300",children:[(0,a.jsx)("button",{onClick:()=>h("front"),className:"px-6 py-3 font-semibold transition ".concat("front"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),"aria-selected":"front"===x,role:"tab",children:"Vista Frontal"}),(0,a.jsx)("button",{onClick:()=>h("back"),className:"px-6 py-3 font-semibold transition ".concat("back"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),"aria-selected":"back"===x,role:"tab",children:"Vista Trasera"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:(0,a.jsx)(u,{location:x,painEntry:b||void 0,onBodyPartSelected:(e,s)=>{try{m(null),r(e,s)}catch(e){m(e instanceof Error?e.message:"Failed to record pain")}}})}),b&&Object.keys(b.bodyPartEntries).length>0&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"font-semibold text-green-900 mb-4",children:["Registros de Hoy: ",Object.keys(b.bodyPartEntries).length]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Object.entries(b.bodyPartEntries).map(e=>{let[r,t]=e,i=s(1725).p.parts[r];return(0,a.jsxs)("div",{className:"p-3 rounded bg-white border border-green-200",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:(null==i?void 0:i.abbreviation)||(null==i?void 0:i.anatomicalName)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[t.intensityLevel,"/10"]})]},r)})})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsx)(d(),{href:"/statistics",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"Ver Estad\xedsticas"}),(0,a.jsx)(d(),{href:"/history",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold",children:"Ver Historial"})]})]})})}}},function(e){e.O(0,[664,10,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);